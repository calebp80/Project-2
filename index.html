<!DOCTYPE html>
<html>
  
  <head>
    <title>Map API practice</title>
    <link rel="stylesheet" type="text/css" href="./style.css" />
    
    <script src="./index.js"></script>
    <style> 
      #map {
        height:400px;
        width:100%;
      }
    </style>
  </head>
  <body>
    <h3>My Google Maps Demo</h3>
    <!--The div element for the map -->
    <div id="map"></div>
    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <div id="map"></div>
    
    <script>
    function initMap () {
      var options = {
        zoom:4,
        center: { lat: 37.0902, lng: -95.7129 },

      }
      //new map
      var map = new google.maps.Map(document.getElementById('map'), options);
      /*
      //marker
      var marker = new google.maps.Marker({
        position: { lat: 34.0522, lng: -118.2437 },
        map:map,
        icon: "https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"
      });
      
      var infoWindow = new google.maps.InfoWindow({
        content: '<h1> Los Angeles, CA </h1>'
      });
      marker.addListener('click', function(){
        infoWindow.open(map, marker);
      });
      */
      //array of markers 
      var markers = [
        {
        coords:{lat: 34.0522, lng: -118.2437 },
        iconImage:'https://img.icons8.com/emoji/50/000000/ghost-emoji.png',    
        content: '<h1>Los Angeles, CA</h1>'
      },
     {
       coords:{lat: 34.1083, lng: -117.2898 },
        iconImage:'https://img.icons8.com/emoji/50/000000/ghost-emoji.png',
       content: '<h1>San Bernadino, CA</h1>'
     },
      {
        coords:{lat: 25.7617, lng: -80.1918 },
         iconImage:'https://img.icons8.com/emoji/50/000000/ghost-emoji.png',
        content: '<h1>Miami, FL</h1>'
      },
                     
        ]; 
      //loop through markers
      for(var i = 0;i < markers.length;i++){
        addMarker(markers[i]);
      }
   
      //add marker function
      function addMarker(props){
        //marker
      var marker = new google.maps.Marker({
        position: props.coords,
        map:map,
       // icon:props.iconImage
      });
        //checking for custom icon
        if (props.iconImage){
          //set icon image
          marker.setIcon(props.iconImage);
          
        }
        // check content 
        if (props.content){
          var infoWindow = new google.maps.InfoWindow({
        content:props.content
      });
      marker.addListener('click', function(){
        infoWindow.open(map, marker);
      });
        }
      }
    }
   
    </script>
    <script async
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD0o4awM4dEP0VGA6ETurpq9v0Pp9DfvU8&callback=initMap">
</script>

  </body>
 
</html>
